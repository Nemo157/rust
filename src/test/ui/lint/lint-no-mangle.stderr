error: declaration of a `no_mangle` function
  --> $DIR/lint-no-mangle.rs:18:14
   |
LL | #[no_mangle] fn foo() {}
   |              ^^^^^^^^^^^
   |
note: the lint level is defined here
  --> $DIR/lint-no-mangle.rs:2:9
   |
LL | #![deny(no_mangle)]
   |         ^^^^^^^^^

error: declaration of a `no_mangle` static
  --> $DIR/lint-no-mangle.rs:19:14
   |
LL | #[no_mangle] static FOO: u32 = 5;
   |              ^^^^^^^^^^^^^^^^^^^^

error: declaration of a `no_mangle` function
  --> $DIR/lint-no-mangle.rs:13:22
   |
LL |         #[no_mangle] fn foo() {}
   |                      ^^^^^^^^^^^
...
LL |     no_mangle_in_macro!();
   |     ---------------------- in this macro invocation
   |
   = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)

error: declaration of a `no_mangle` static
  --> $DIR/lint-no-mangle.rs:14:22
   |
LL |         #[no_mangle] static FOO: u32 = 5;
   |                      ^^^^^^^^^^^^^^^^^^^^
...
LL |     no_mangle_in_macro!();
   |     ---------------------- in this macro invocation
   |
   = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)

error: aborting due to 4 previous errors

